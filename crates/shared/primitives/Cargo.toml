[package]
name = "base-primitives"
description = "Shared primitives and test utilities"
version.workspace = true
edition.workspace = true
rust-version.workspace = true
license.workspace = true
homepage.workspace = true
repository.workspace = true

[lints]
workspace = true

[dependencies]
eyre = { workspace = true, optional = true }
serde_json = { workspace = true, optional = true }
alloy-eips = { workspace = true, optional = true }
alloy-signer = { workspace = true, optional = true }
alloy-genesis = { workspace = true, optional = true }
alloy-contract = { workspace = true, optional = true }
alloy-sol-macro = { workspace = true, features = ["json"], optional = true }
alloy-sol-types = { workspace = true, optional = true }
alloy-consensus = { workspace = true, features = ["std"], optional = true }
alloy-primitives = { workspace = true, features = ["serde"], optional = true }
op-alloy-network = { workspace = true, optional = true }
alloy-signer-local = { workspace = true, optional = true }
op-alloy-rpc-types = { workspace = true, optional = true }

# Engine API dependencies
alloy-provider = { workspace = true, optional = true }
alloy-transport = { workspace = true, optional = true }
alloy-transport-http = { workspace = true, optional = true }
alloy-rpc-types-engine = { workspace = true, optional = true }
alloy-rpc-types-eth = { workspace = true, optional = true }
op-alloy-provider = { workspace = true, optional = true }
kona-genesis = { workspace = true, optional = true }
kona-engine = { workspace = true, optional = true }

[features]
default = []
engine = [
	"dep:alloy-eips",
	"dep:alloy-primitives",
	"dep:alloy-provider",
	"dep:alloy-rpc-types-engine",
	"dep:alloy-rpc-types-eth",
	"dep:alloy-transport",
	"dep:alloy-transport-http",
	"dep:kona-engine",
	"dep:kona-genesis",
	"dep:op-alloy-network",
	"dep:op-alloy-provider",
]
test-utils = [
	"dep:alloy-consensus",
	"dep:alloy-contract",
	"dep:alloy-eips",
	"dep:alloy-genesis",
	"dep:alloy-primitives",
	"dep:alloy-signer",
	"dep:alloy-signer-local",
	"dep:alloy-sol-macro",
	"dep:alloy-sol-types",
	"dep:eyre",
	"dep:op-alloy-network",
	"dep:op-alloy-rpc-types",
	"dep:serde_json",
	"kona-engine?/test-utils",
]

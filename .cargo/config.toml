# Faster linkers: mold on Linux, lld on macOS.
# Prerequisites:
#   Linux:  apt install mold  (or already provided by CI setup-mold action)
#   macOS:  brew install lld

[target.x86_64-unknown-linux-gnu]
rustflags = ["-C", "link-arg=-fuse-ld=mold"]

[target.aarch64-unknown-linux-gnu]
rustflags = ["-C", "link-arg=-fuse-ld=mold"]

[target.aarch64-apple-darwin]
rustflags = ["-C", "link-arg=-fuse-ld=/opt/homebrew/opt/lld/bin/ld64.lld", "-C", "split-debuginfo=unpacked"]

[target.x86_64-apple-darwin]
rustflags = ["-C", "link-arg=-fuse-ld=/usr/local/opt/lld/bin/ld64.lld", "-C", "split-debuginfo=unpacked"]
